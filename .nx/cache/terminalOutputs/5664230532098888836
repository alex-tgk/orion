ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/formatters/__tests__/[22m[1mformatters.spec.ts[22m
  Formatters
    JSON Formatter
      [32mâœ“[39m [2mshould be defined (12 ms)[22m
      [32mâœ“[39m [2mshould be a Winston format (1 ms)[22m
    Development Formatter
      [32mâœ“[39m [2mshould be defined (1 ms)[22m
      [32mâœ“[39m [2mshould be a Winston format (1 ms)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/transports/__tests__/[22m[1mtransports.spec.ts[22m
  Transports
    Console Transport
      [32mâœ“[39m [2mshould create console transport (31 ms)[22m
      [32mâœ“[39m [2mshould respect log level (1 ms)[22m
      [32mâœ“[39m [2mshould handle pretty mode (1 ms)[22m
    File Transports
      [32mâœ“[39m [2mshould return empty array without file options (6 ms)[22m
      [32mâœ“[39m [2mshould create file transport with options (43 ms)[22m
      [32mâœ“[39m [2mshould create error file transport when specified (6 ms)[22m
      [31mâœ•[39m [2mshould use default max size and max files (5 ms)[22m
      [31mâœ•[39m [2mshould use custom max size and max files (6 ms)[22m
      [32mâœ“[39m [2mshould set error level for error file (5 ms)[22m

[1m[31m  [1mâ— [22m[1mTransports â€º File Transports â€º should use default max size and max files[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m"20m"[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 72 |[39m       [36mconst[39m transport [33m=[39m transports[[35m0[39m] [36mas[39m any[33m;[39m[22m
[2m     [90m 73 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 74 |[39m       expect(transport[33m.[39mmaxSize)[33m.[39mtoBe([32m'20m'[39m)[33m;[39m[22m
[2m     [90m    |[39m                                 [31m[1m^[22m[2m[39m[22m
[2m     [90m 75 |[39m       expect(transport[33m.[39mmaxFiles)[33m.[39mtoBe([32m'14d'[39m)[33m;[39m[22m
[2m     [90m 76 |[39m     })[33m;[39m[22m
[2m     [90m 77 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/transports.spec.ts[39m[0m[2m:74:33)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mTransports â€º File Transports â€º should use custom max size and max files[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m"50m"[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 89 |[39m       [36mconst[39m transport [33m=[39m transports[[35m0[39m] [36mas[39m any[33m;[39m[22m
[2m     [90m 90 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 91 |[39m       expect(transport[33m.[39mmaxSize)[33m.[39mtoBe([32m'50m'[39m)[33m;[39m[22m
[2m     [90m    |[39m                                 [31m[1m^[22m[2m[39m[22m
[2m     [90m 92 |[39m       expect(transport[33m.[39mmaxFiles)[33m.[39mtoBe([32m'30d'[39m)[33m;[39m[22m
[2m     [90m 93 |[39m     })[33m;[39m[22m
[2m     [90m 94 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/transports.spec.ts[39m[0m[2m:91:33)[22m[2m[22m

{"timestamp":"2025-10-18T11:58:04.931-04:00","level":"info","service":"test-service","environment":"test","pid":27620,"message":"Test message"}
{"timestamp":"2025-10-18T11:58:04.939-04:00","level":"info","service":"test-service","environment":"test","pid":27620,"message":"Test message"}
{"timestamp":"2025-10-18T11:58:04.940-04:00","level":"error","service":"test-service","environment":"test","pid":27620,"message":"Error message"}
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mlogger.config.spec.ts[22m
  Logger Configuration
    Basic Configuration
      [32mâœ“[39m [2mshould create configuration with minimal options (26 ms)[22m
      [32mâœ“[39m [2mshould use custom log level (2 ms)[22m
      [32mâœ“[39m [2mshould use custom environment (1 ms)[22m
      [32mâœ“[39m [2mshould fallback to NODE_ENV if environment not specified (1 ms)[22m
      [32mâœ“[39m [2mshould fallback to development if no environment specified (1 ms)[22m
    Transport Configuration
      [32mâœ“[39m [2mshould create console transport by default (2 ms)[22m
      [32mâœ“[39m [2mshould create console transport when specified (2 ms)[22m
      [32mâœ“[39m [2mshould create file transports when specified (44 ms)[22m
      [32mâœ“[39m [2mshould create both console and file transports (4 ms)[22m
      [32mâœ“[39m [2mshould not create file transports without fileOptions (1 ms)[22m
    Pretty Mode
      [32mâœ“[39m [2mshould use pretty formatter when enabled (5 ms)[22m
      [32mâœ“[39m [2mshould use JSON formatter when pretty is false (3 ms)[22m
      [32mâœ“[39m [2mshould default to JSON formatter (1 ms)[22m
    File Options
      [31mâœ•[39m [2mshould configure file transport with custom options (7 ms)[22m
      [32mâœ“[39m [2mshould create separate error file when specified (6 ms)[22m
      [31mâœ•[39m [2mshould use default file options when not specified (3 ms)[22m
    Sanitization
      [32mâœ“[39m [2mshould use default sensitive fields when not specified (3 ms)[22m
      [32mâœ“[39m [2mshould use custom sensitive fields (2 ms)[22m
      [32mâœ“[39m [2mshould use default replacement value (1 ms)[22m
      [31mâœ•[39m [2mshould sanitize sensitive fields in metadata (3 ms)[22m
    Log Levels
      [32mâœ“[39m [2mshould support error level (1 ms)[22m
      [32mâœ“[39m [2mshould support warn level (1 ms)[22m
      [32mâœ“[39m [2mshould support info level (1 ms)[22m
      [32mâœ“[39m [2mshould support http level (1 ms)[22m
      [32mâœ“[39m [2mshould support debug level (1 ms)[22m
      [32mâœ“[39m [2mshould support verbose level (1 ms)[22m
    Exit on Error
      [32mâœ“[39m [2mshould set exitOnError to false (1 ms)[22m
    Default Meta
      [32mâœ“[39m [2mshould include service name in defaultMeta (2 ms)[22m
      [32mâœ“[39m [2mshould include environment in defaultMeta (1 ms)[22m
      [32mâœ“[39m [2mshould use different service names (1 ms)[22m
    Integration with Winston
      [32mâœ“[39m [2mshould create a working Winston logger (8 ms)[22m
      [32mâœ“[39m [2mshould create logger with all transports (5 ms)[22m
      [31mâœ•[39m [2mshould respect log levels (1 ms)[22m
    Edge Cases
      [32mâœ“[39m [2mshould handle empty service name (1 ms)[22m
      [32mâœ“[39m [2mshould handle very long service names[22m
      [32mâœ“[39m [2mshould handle special characters in service name (1 ms)[22m
      [32mâœ“[39m [2mshould handle empty transports array (1 ms)[22m
      [32mâœ“[39m [2mshould handle undefined transports (1 ms)[22m
    Multiple Configurations
      [32mâœ“[39m [2mshould create independent configurations (1 ms)[22m
      [32mâœ“[39m [2mshould not share transports between configurations (1 ms)[22m

[1m[31m  [1mâ— [22m[1mLogger Configuration â€º File Options â€º should configure file transport with custom options[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m"100m"[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 203 |[39m       [36mconst[39m transport [33m=[39m loggerConfig[33m.[39mtransports[33m![39m[[35m0[39m] [36mas[39m any[33m;[39m[22m
[2m     [90m 204 |[39m       expect(transport[33m.[39mfilename)[33m.[39mtoBe([32m'custom.log'[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 205 |[39m       expect(transport[33m.[39mmaxSize)[33m.[39mtoBe([32m'100m'[39m)[33m;[39m[22m
[2m     [90m     |[39m                                 [31m[1m^[22m[2m[39m[22m
[2m     [90m 206 |[39m       expect(transport[33m.[39mmaxFiles)[33m.[39mtoBe([32m'30d'[39m)[33m;[39m[22m
[2m     [90m 207 |[39m     })[33m;[39m[22m
[2m     [90m 208 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:205:33)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLogger Configuration â€º File Options â€º should use default file options when not specified[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m"20m"[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 235 |[39m[22m
[2m     [90m 236 |[39m       [36mconst[39m transport [33m=[39m loggerConfig[33m.[39mtransports[33m![39m[[35m0[39m] [36mas[39m any[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 237 |[39m       expect(transport[33m.[39mmaxSize)[33m.[39mtoBe([32m'20m'[39m)[33m;[39m[22m
[2m     [90m     |[39m                                 [31m[1m^[22m[2m[39m[22m
[2m     [90m 238 |[39m       expect(transport[33m.[39mmaxFiles)[33m.[39mtoBe([32m'14d'[39m)[33m;[39m[22m
[2m     [90m 239 |[39m     })[33m;[39m[22m
[2m     [90m 240 |[39m   })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:237:33)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLogger Configuration â€º Sanitization â€º should sanitize sensitive fields in metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 292 |[39m       [36mconst[39m logOutput[33m:[39m string[] [33m=[39m [][33m;[39m[22m
[2m     [90m 293 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 294 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 295 |[39m           stream[33m:[39m {[22m
[2m     [90m 296 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 297 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:294:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLogger Configuration â€º Integration with Winston â€º should respect log levels[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 480 |[39m       [36mconst[39m logOutput[33m:[39m string[] [33m=[39m [][33m;[39m[22m
[2m     [90m 481 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 482 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 483 |[39m           stream[33m:[39m {[22m
[2m     [90m 484 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 485 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:482:9)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mlogger.service.additional.spec.ts[22m
  LoggerService Additional Tests
    Correlation ID Integration
      [32mâœ“[39m [2mshould get AsyncLocalStorage instance (41 ms)[22m
      [32mâœ“[39m [2mshould set correlation ID using static method (4 ms)[22m
      [32mâœ“[39m [2mshould maintain correlation ID across nested calls (22 ms)[22m
      [32mâœ“[39m [2mshould work without correlation ID context (3 ms)[22m
    All Log Levels
      [32mâœ“[39m [2mshould log info messages correctly (3 ms)[22m
      [32mâœ“[39m [2mshould log error messages with stack trace (49 ms)[22m
      [32mâœ“[39m [2mshould log warning messages (3 ms)[22m
      [32mâœ“[39m [2mshould log debug messages (4 ms)[22m
      [32mâœ“[39m [2mshould log verbose messages (3 ms)[22m
      [31mâœ•[39m [2mshould log HTTP messages (9 ms)[22m
    Context Override
      [32mâœ“[39m [2mshould override context in log method (2 ms)[22m
      [32mâœ“[39m [2mshould override context in error method (3 ms)[22m
      [32mâœ“[39m [2mshould override context in warn method (3 ms)[22m
      [32mâœ“[39m [2mshould override context in debug method (2 ms)[22m
      [32mâœ“[39m [2mshould override context in verbose method (2 ms)[22m
    Metadata Handling
      [32mâœ“[39m [2mshould include metadata in logs (3 ms)[22m
      [32mâœ“[39m [2mshould handle empty metadata (2 ms)[22m
      [32mâœ“[39m [2mshould handle undefined metadata (2 ms)[22m
      [32mâœ“[39m [2mshould handle complex nested metadata (2 ms)[22m
      [32mâœ“[39m [2mshould handle arrays in metadata (2 ms)[22m
      [32mâœ“[39m [2mshould handle null values (2 ms)[22m
    Child Logger
      [32mâœ“[39m [2mshould create child logger with context (3 ms)[22m
      [32mâœ“[39m [2mshould create child logger with metadata (2 ms)[22m
      [32mâœ“[39m [2mshould allow child logger to log (2 ms)[22m
      [32mâœ“[39m [2mshould maintain separate contexts (2 ms)[22m
    Error Logging with Stack Traces
      [32mâœ“[39m [2mshould include stack trace in error logs (4 ms)[22m
      [32mâœ“[39m [2mshould handle errors without stack traces (2 ms)[22m
      [32mâœ“[39m [2mshould include metadata with error (3 ms)[22m
    Context Management
      [32mâœ“[39m [2mshould update context (2 ms)[22m
      [32mâœ“[39m [2mshould preserve context across multiple logs (3 ms)[22m
      [32mâœ“[39m [2mshould allow context reset (2 ms)[22m
    Winston Logger Access
      [32mâœ“[39m [2mshould provide access to Winston logger (2 ms)[22m
      [32mâœ“[39m [2mshould return the same logger instance (1 ms)[22m
    Correlation ID with Metadata
      [32mâœ“[39m [2mshould include both correlation ID and metadata (2 ms)[22m
      [32mâœ“[39m [2mshould handle correlation ID in error logs (2 ms)[22m
    Edge Cases
      [32mâœ“[39m [2mshould handle empty string messages (1 ms)[22m
      [32mâœ“[39m [2mshould handle very long messages (2 ms)[22m
      [32mâœ“[39m [2mshould handle special characters in messages (1 ms)[22m
      [32mâœ“[39m [2mshould handle Unicode characters (1 ms)[22m
      [32mâœ“[39m [2mshould handle rapid successive logs (9 ms)[22m
    All Log Levels with Context Override
      [32mâœ“[39m [2mshould use context override for all levels (2 ms)[22m

[1m[31m  [1mâ— [22m[1mLoggerService Additional Tests â€º All Log Levels â€º should log HTTP messages[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m200[39m
    Received: [31mundefined[39m
[2m[22m
[2m    [0m [90m 147 |[39m       expect(logs[[35m0[39m][33m.[39mlevel)[33m.[39mtoBe([32m'http'[39m)[33m;[39m[22m
[2m     [90m 148 |[39m       expect(logs[[35m0[39m][33m.[39mmessage)[33m.[39mtoBe([32m'GET /api/users'[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 149 |[39m       expect(logs[[35m0[39m][33m.[39mstatusCode)[33m.[39mtoBe([35m200[39m)[33m;[39m[22m
[2m     [90m     |[39m                                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 150 |[39m     })[33m;[39m[22m
[2m     [90m 151 |[39m   })[33m;[39m[22m
[2m     [90m 152 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.additional.spec.ts[39m[0m[2m:149:34)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mlogger.service.spec.ts[22m
  LoggerService
    Initialization
      [31mâœ•[39m [2mshould be defined (13 ms)[22m
      [31mâœ•[39m [2mshould set initial context (2 ms)[22m
    Context Management
      [31mâœ•[39m [2mshould update context using setContext (2 ms)[22m
      [31mâœ•[39m [2mshould allow context override in log methods (1 ms)[22m
    Logging Methods
      [31mâœ•[39m [2mshould log info messages (1 ms)[22m
      [31mâœ•[39m [2mshould log error messages with stack trace (16 ms)[22m
      [31mâœ•[39m [2mshould log warning messages (2 ms)[22m
      [31mâœ•[39m [2mshould log debug messages (2 ms)[22m
      [31mâœ•[39m [2mshould log verbose messages (2 ms)[22m
      [31mâœ•[39m [2mshould log HTTP messages (2 ms)[22m
    Correlation ID Support
      [31mâœ•[39m [2mshould include correlation ID from AsyncLocalStorage (2 ms)[22m
      [31mâœ•[39m [2mshould set correlation ID using static method (1 ms)[22m
      [31mâœ•[39m [2mshould work without correlation ID[22m
    Child Logger
      [31mâœ•[39m [2mshould create child logger with new context[22m
      [31mâœ•[39m [2mshould maintain parent logger context (1 ms)[22m
    Metadata Handling
      [31mâœ•[39m [2mshould include metadata in logs (1 ms)[22m
      [31mâœ•[39m [2mshould handle empty metadata[22m
      [31mâœ•[39m [2mshould handle undefined metadata[22m
      [31mâœ•[39m [2mshould handle complex metadata objects (1 ms)[22m
    Winston Logger Access
      [31mâœ•[39m [2mshould provide access to Winston logger instance (1 ms)[22m
    Error Handling
      [31mâœ•[39m [2mshould handle Error objects in metadata (1 ms)[22m
      [31mâœ•[39m [2mshould handle null and undefined values in metadata (1 ms)[22m
    AsyncLocalStorage
      [31mâœ•[39m [2mshould provide access to AsyncLocalStorage (1 ms)[22m
      [31mâœ•[39m [2mshould maintain correlation ID across async operations (1 ms)[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Initialization â€º should be defined[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Initialization â€º should set initial context[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Context Management â€º should update context using setContext[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Context Management â€º should allow context override in log methods[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Logging Methods â€º should log info messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Logging Methods â€º should log error messages with stack trace[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Logging Methods â€º should log warning messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Logging Methods â€º should log debug messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Logging Methods â€º should log verbose messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Logging Methods â€º should log HTTP messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Correlation ID Support â€º should include correlation ID from AsyncLocalStorage[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Correlation ID Support â€º should set correlation ID using static method[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Correlation ID Support â€º should work without correlation ID[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Child Logger â€º should create child logger with new context[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Child Logger â€º should maintain parent logger context[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Metadata Handling â€º should include metadata in logs[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Metadata Handling â€º should handle empty metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Metadata Handling â€º should handle undefined metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Metadata Handling â€º should handle complex metadata objects[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Winston Logger Access â€º should provide access to Winston logger instance[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Error Handling â€º should handle Error objects in metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º Error Handling â€º should handle null and undefined values in metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º AsyncLocalStorage â€º should provide access to AsyncLocalStorage[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1mâ— [22m[1mLoggerService â€º AsyncLocalStorage â€º should maintain correlation ID across async operations[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

(node:27625) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 uncaughtException listeners added to [process]. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
(node:27625) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 unhandledRejection listeners added to [process]. Use emitter.setMaxListeners() to increase limit
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mlogger.module.spec.ts[22m
  LoggerModule
    forRoot
      [32mâœ“[39m [2mshould provide LoggerService (44 ms)[22m
      [32mâœ“[39m [2mshould provide WINSTON_LOGGER (8 ms)[22m
      [32mâœ“[39m [2mshould provide LOGGER_MODULE_OPTIONS (8 ms)[22m
      [32mâœ“[39m [2mshould configure Winston with correct service name (8 ms)[22m
      [32mâœ“[39m [2mshould use default isGlobal as true (12 ms)[22m
    forRootAsync
      [32mâœ“[39m [2mshould provide LoggerService from async config (8 ms)[22m
      [32mâœ“[39m [2mshould configure Winston with async config (9 ms)[22m
      [32mâœ“[39m [2mshould support async factory with Promise (24 ms)[22m
      [32mâœ“[39m [2mshould support dependency injection in factory (12 ms)[22m
    Module Configuration
      [32mâœ“[39m [2mshould configure console transport (5 ms)[22m
      [32mâœ“[39m [2mshould configure with custom log level (4 ms)[22m
      [32mâœ“[39m [2mshould configure with pretty printing (4 ms)[22m
      [32mâœ“[39m [2mshould configure with environment (4 ms)[22m
      [32mâœ“[39m [2mshould use default environment from NODE_ENV (4 ms)[22m
    Global Module
      [32mâœ“[39m [2mshould be global by default (1 ms)[22m
      [32mâœ“[39m [2mshould respect isGlobal: false (1 ms)[22m
    Exports
      [32mâœ“[39m [2mshould export LoggerService[22m
      [32mâœ“[39m [2mshould export WINSTON_LOGGER[22m

---------------------------|---------|----------|---------|---------|-------------------
File                       | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
---------------------------|---------|----------|---------|---------|-------------------
[33;1mAll files                 [0m | [33;1m  58.38[0m | [33;1m   70.58[0m | [33;1m  68.42[0m | [33;1m   62.5[0m | [31;1m                 [0m 
[31;1m src                      [0m | [31;1m      0[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  index.ts                [0m | [31;1m      0[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m15-31            [0m 
[31;1m src/app                  [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m                 [0m 
[31;1m  app.controller.ts       [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-10             [0m 
[31;1m  app.module.ts           [0m | [31;1m      0[0m | [32;1m     100[0m | [32;1m    100[0m | [31;1m      0[0m | [31;1m1-11             [0m 
[31;1m  app.service.ts          [0m | [31;1m      0[0m | [32;1m     100[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m1-6              [0m 
[32;1m src/lib                  [0m | [32;1m   92.1[0m | [32;1m   87.75[0m | [32;1m  95.83[0m | [32;1m  91.66[0m | [31;1m                 [0m 
[33;1m  logger.config.ts        [0m | [33;1m  71.42[0m | [32;1m   85.18[0m | [33;1m  66.66[0m | [33;1m  71.42[0m | [31;1m17-25,70         [0m 
[32;1m  logger.module.ts        [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  logger.service.ts       [0m | [32;1m    100[0m | [32;1m   88.88[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m19-46            [0m 
[31;1m src/lib/formatters       [0m | [31;1m  22.85[0m | [31;1m    6.25[0m | [33;1m     50[0m | [31;1m  22.85[0m | [31;1m                 [0m 
[31;1m  development.formatter.ts[0m | [31;1m  10.34[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m  10.34[0m | [31;1m12-60            [0m 
[32;1m  json.formatter.ts       [0m | [32;1m  83.33[0m | [33;1m      50[0m | [32;1m    100[0m | [32;1m  83.33[0m | [31;1m27               [0m 
[32;1m src/lib/transports       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  console.transport.ts    [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
[32;1m  file.transport.ts       [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                 [0m 
---------------------------|---------|----------|---------|---------|-------------------
[1m[31mJest: "global" coverage threshold for statements (80%) not met: 58.38%[39m[22m
[1m[31mJest: "global" coverage threshold for branches (80%) not met: 70.58%[39m[22m
[1m[31mJest: "global" coverage threshold for lines (80%) not met: 62.5%[39m[22m
[1m[31mJest: "global" coverage threshold for functions (80%) not met: 68.42%[39m[22m
[1mTest Suites: [22m[1m[31m4 failed[39m[22m, [1m[32m2 passed[39m[22m, 6 total
[1mTests:       [22m[1m[31m31 failed[39m[22m, [1m[32m105 passed[39m[22m, 136 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        7.644 s
[2mRan all test suites[22m[2m.[22m
