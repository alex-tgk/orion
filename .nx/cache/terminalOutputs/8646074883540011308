ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
ts-jest[config] (WARN) 
    The "ts-jest" config option "isolatedModules" is deprecated and will be removed in v30.0.0. Please use "isolatedModules: true" in /Users/acarroll/dev/projects/orion/packages/logger/tsconfig.spec.json instead, see https://www.typescriptlang.org/tsconfig/#isolatedModules
  
{"timestamp":"2025-10-18T11:55:33.616-04:00","level":"info","service":"test-service","environment":"test","pid":23723,"message":"Test message"}
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/transports/__tests__/[22m[1mconsole.transport.spec.ts[22m
  Console Transport
    Transport Creation
      [32m✓[39m [2mshould create a console transport (11 ms)[22m
      [32m✓[39m [2mshould use JSON formatter when pretty is false (1 ms)[22m
      [32m✓[39m [2mshould use development formatter when pretty is true[22m
    Log Levels
      [32m✓[39m [2mshould respect error log level[22m
      [32m✓[39m [2mshould respect warn log level (1 ms)[22m
      [32m✓[39m [2mshould respect info log level (1 ms)[22m
      [32m✓[39m [2mshould respect http log level (1 ms)[22m
      [32m✓[39m [2mshould respect debug log level (1 ms)[22m
      [32m✓[39m [2mshould respect verbose log level (1 ms)[22m
    Exception Handling
      [32m✓[39m [2mshould handle exceptions (2 ms)[22m
      [32m✓[39m [2mshould handle rejections (1 ms)[22m
    Integration with Winston
      [31m✕[39m [2mshould work with Winston logger in JSON mode (3 ms)[22m
      [31m✕[39m [2mshould work with Winston logger in pretty mode[22m
      [31m✕[39m [2mshould filter logs by level correctly (1 ms)[22m
    Pretty Mode
      [31m✕[39m [2mshould produce human-readable output in pretty mode (1 ms)[22m
      [31m✕[39m [2mshould produce JSON output in non-pretty mode (2 ms)[22m
    Configuration
      [32m✓[39m [2mshould create transport with default configuration (1 ms)[22m
      [32m✓[39m [2mshould create transport with custom configuration (1 ms)[22m
      [32m✓[39m [2mshould handle boolean values correctly (2 ms)[22m
    Edge Cases
      [32m✓[39m [2mshould handle creating multiple transports (3 ms)[22m
      [32m✓[39m [2mshould be independent instances (1 ms)[22m

[1m[31m  [1m● [22m[1mConsole Transport › Integration with Winston › should work with Winston logger in JSON mode[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m  97 |[39m       logger [33m=[39m winston[33m.[39mcreateLogger({[22m
[2m     [90m  98 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m  99 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 100 |[39m             stream[33m:[39m {[22m
[2m     [90m 101 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 102 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/console.transport.spec.ts[39m[0m[2m:99:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mConsole Transport › Integration with Winston › should work with Winston logger in pretty mode[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 116 |[39m       logger [33m=[39m winston[33m.[39mcreateLogger({[22m
[2m     [90m 117 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 118 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 119 |[39m             stream[33m:[39m {[22m
[2m     [90m 120 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 121 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/console.transport.spec.ts[39m[0m[2m:118:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mConsole Transport › Integration with Winston › should filter logs by level correctly[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 134 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 135 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 136 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 137 |[39m             stream[33m:[39m {[22m
[2m     [90m 138 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 139 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/console.transport.spec.ts[39m[0m[2m:136:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mConsole Transport › Pretty Mode › should produce human-readable output in pretty mode[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 174 |[39m       logger [33m=[39m winston[33m.[39mcreateLogger({[22m
[2m     [90m 175 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 176 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 177 |[39m             stream[33m:[39m {[22m
[2m     [90m 178 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 179 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/console.transport.spec.ts[39m[0m[2m:176:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mConsole Transport › Pretty Mode › should produce JSON output in non-pretty mode[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 193 |[39m       logger [33m=[39m winston[33m.[39mcreateLogger({[22m
[2m     [90m 194 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 195 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 196 |[39m             stream[33m:[39m {[22m
[2m     [90m 197 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 198 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/console.transport.spec.ts[39m[0m[2m:195:11)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/transports/__tests__/[22m[1mfile.transport.spec.ts[22m
  File Transport
    Transport Creation
      [32m✓[39m [2mshould return empty array when fileOptions is not provided (8 ms)[22m
      [31m✕[39m [2mshould create file transport when fileOptions is provided (2 ms)[22m
      [31m✕[39m [2mshould create two transports when errorFilename is provided (1 ms)[22m
    Configuration Options
      [31m✕[39m [2mshould use default maxSize if not provided (1 ms)[22m
      [31m✕[39m [2mshould use custom maxSize when provided (1 ms)[22m
      [31m✕[39m [2mshould use default maxFiles if not provided (1 ms)[22m
      [31m✕[39m [2mshould use custom maxFiles when provided (1 ms)[22m
      [31m✕[39m [2mshould use custom log level when provided (1 ms)[22m
      [31m✕[39m [2mshould use default info level when not provided (1 ms)[22m
    Error Transport
      [31m✕[39m [2mshould create error transport with error level (1 ms)[22m
      [31m✕[39m [2mshould use error filename for error transport (1 ms)[22m
      [31m✕[39m [2mshould apply same maxSize to error transport (1 ms)[22m
      [31m✕[39m [2mshould apply same maxFiles to error transport[22m
    Date Pattern
      [31m✕[39m [2mshould use YYYY-MM-DD date pattern for main transport (1 ms)[22m
      [31m✕[39m [2mshould use YYYY-MM-DD date pattern for error transport (2 ms)[22m
    Exception and Rejection Handling
      [31m✕[39m [2mshould handle exceptions in main transport (1 ms)[22m
      [31m✕[39m [2mshould handle rejections in main transport (2 ms)[22m
      [31m✕[39m [2mshould handle exceptions in error transport (1 ms)[22m
      [31m✕[39m [2mshould handle rejections in error transport (1 ms)[22m
    JSON Formatting
      [31m✕[39m [2mshould use JSON formatter for main transport[22m
      [31m✕[39m [2mshould use JSON formatter for error transport (1 ms)[22m
    Multiple Configurations
      [31m✕[39m [2mshould create independent transports for different configurations[22m
      [31m✕[39m [2mshould handle different file paths (1 ms)[22m
    Edge Cases
      [31m✕[39m [2mshould handle empty filename (1 ms)[22m
      [31m✕[39m [2mshould handle very long filenames[22m
      [31m✕[39m [2mshould handle nested directory paths[22m
      [31m✕[39m [2mshould handle special characters in filename (1 ms)[22m
      [31m✕[39m [2mshould create transports with all log levels (1 ms)[22m
    Integration with Winston
      [31m✕[39m [2mshould work with Winston logger[22m
      [31m✕[39m [2mshould work with both main and error transports[22m

[1m[31m  [1m● [22m[1mFile Transport › Transport Creation › should create file transport when fileOptions is provided[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:43:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Transport Creation › should create two transports when errorFilename is provided[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:58:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Configuration Options › should use default maxSize if not provided[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:73:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Configuration Options › should use custom maxSize when provided[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:88:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Configuration Options › should use default maxFiles if not provided[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:102:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Configuration Options › should use custom maxFiles when provided[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:117:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Configuration Options › should use custom log level when provided[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:132:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Configuration Options › should use default info level when not provided[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:146:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Error Transport › should create error transport with error level[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:163:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Error Transport › should use error filename for error transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:181:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Error Transport › should apply same maxSize to error transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:197:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Error Transport › should apply same maxFiles to error transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:213:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Date Pattern › should use YYYY-MM-DD date pattern for main transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:229:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Date Pattern › should use YYYY-MM-DD date pattern for error transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:244:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Exception and Rejection Handling › should handle exceptions in main transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:260:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Exception and Rejection Handling › should handle rejections in main transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:274:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Exception and Rejection Handling › should handle exceptions in error transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:289:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Exception and Rejection Handling › should handle rejections in error transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:304:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › JSON Formatting › should use JSON formatter for main transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:320:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › JSON Formatting › should use JSON formatter for error transport[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:335:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Multiple Configurations › should create independent transports for different configurations[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:358:47)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Multiple Configurations › should handle different file paths[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:381:47)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Edge Cases › should handle empty filename[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:403:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Edge Cases › should handle very long filenames[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:417:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Edge Cases › should handle nested directory paths[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:430:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Edge Cases › should handle special characters in filename[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:443:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Edge Cases › should create transports with all log levels[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat [22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:467:48[22m[2m[22m
[2m          at Array.forEach (<anonymous>)[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:458:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Integration with Winston › should work with Winston logger[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:484:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mFile Transport › Integration with Winston › should work with both main and error transports[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/transports/__tests__/file.transport.spec.ts[39m[0m[2m:504:46)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mlogger.config.spec.ts[22m
  Logger Configuration
    Basic Configuration
      [32m✓[39m [2mshould create configuration with minimal options (16 ms)[22m
      [32m✓[39m [2mshould use custom log level (2 ms)[22m
      [32m✓[39m [2mshould use custom environment (2 ms)[22m
      [32m✓[39m [2mshould fallback to NODE_ENV if environment not specified (1 ms)[22m
      [32m✓[39m [2mshould fallback to development if no environment specified (1 ms)[22m
    Transport Configuration
      [32m✓[39m [2mshould create console transport by default (3 ms)[22m
      [32m✓[39m [2mshould create console transport when specified (1 ms)[22m
      [31m✕[39m [2mshould create file transports when specified (2 ms)[22m
      [31m✕[39m [2mshould create both console and file transports (2 ms)[22m
      [32m✓[39m [2mshould not create file transports without fileOptions (3 ms)[22m
    Pretty Mode
      [32m✓[39m [2mshould use pretty formatter when enabled (2 ms)[22m
      [32m✓[39m [2mshould use JSON formatter when pretty is false (4 ms)[22m
      [32m✓[39m [2mshould default to JSON formatter (3 ms)[22m
    File Options
      [31m✕[39m [2mshould configure file transport with custom options (2 ms)[22m
      [31m✕[39m [2mshould create separate error file when specified (1 ms)[22m
      [31m✕[39m [2mshould use default file options when not specified (1 ms)[22m
    Sanitization
      [32m✓[39m [2mshould use default sensitive fields when not specified (3 ms)[22m
      [32m✓[39m [2mshould use custom sensitive fields (1 ms)[22m
      [32m✓[39m [2mshould use default replacement value (1 ms)[22m
      [31m✕[39m [2mshould sanitize sensitive fields in metadata (2 ms)[22m
    Log Levels
      [32m✓[39m [2mshould support error level (1 ms)[22m
      [32m✓[39m [2mshould support warn level (1 ms)[22m
      [32m✓[39m [2mshould support info level (2 ms)[22m
      [32m✓[39m [2mshould support http level (2 ms)[22m
      [32m✓[39m [2mshould support debug level (1 ms)[22m
      [32m✓[39m [2mshould support verbose level[22m
    Exit on Error
      [32m✓[39m [2mshould set exitOnError to false[22m
    Default Meta
      [32m✓[39m [2mshould include service name in defaultMeta (2 ms)[22m
      [32m✓[39m [2mshould include environment in defaultMeta (1 ms)[22m
      [32m✓[39m [2mshould use different service names (1 ms)[22m
    Integration with Winston
      [32m✓[39m [2mshould create a working Winston logger (13 ms)[22m
      [31m✕[39m [2mshould create logger with all transports (1 ms)[22m
      [31m✕[39m [2mshould respect log levels (1 ms)[22m
    Edge Cases
      [32m✓[39m [2mshould handle empty service name[22m
      [32m✓[39m [2mshould handle very long service names (1 ms)[22m
      [32m✓[39m [2mshould handle special characters in service name (1 ms)[22m
      [32m✓[39m [2mshould handle empty transports array (1 ms)[22m
      [32m✓[39m [2mshould handle undefined transports (1 ms)[22m
    Multiple Configurations
      [32m✓[39m [2mshould create independent configurations (2 ms)[22m
      [32m✓[39m [2mshould not share transports between configurations[22m

[1m[31m  [1m● [22m[1mLogger Configuration › Transport Configuration › should create file transports when specified[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:115:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Configuration › Transport Configuration › should create both console and file transports[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:129:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Configuration › File Options › should configure file transport with custom options[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:200:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Configuration › File Options › should create separate error file when specified[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:219:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Configuration › File Options › should use default file options when not specified[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:234:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Configuration › Sanitization › should sanitize sensitive fields in metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 292 |[39m       [36mconst[39m logOutput[33m:[39m string[] [33m=[39m [][33m;[39m[22m
[2m     [90m 293 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 294 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 295 |[39m           stream[33m:[39m {[22m
[2m     [90m 296 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 297 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:294:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Configuration › Integration with Winston › should create logger with all transports[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:460:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Configuration › Integration with Winston › should respect log levels[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 480 |[39m       [36mconst[39m logOutput[33m:[39m string[] [33m=[39m [][33m;[39m[22m
[2m     [90m 481 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 482 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 483 |[39m           stream[33m:[39m {[22m
[2m     [90m 484 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 485 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.config.spec.ts[39m[0m[2m:482:9)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mintegration.spec.ts[22m
  Logger Integration Tests
    File Logging Integration
      [31m✕[39m [2mshould write logs to file (9 ms)[22m
      [31m✕[39m [2mshould write errors to separate error file (1 ms)[22m
      [31m✕[39m [2mshould create JSON formatted logs in file (1 ms)[22m
    Sanitization Integration
      [31m✕[39m [2mshould sanitize sensitive fields in logs (5 ms)[22m
      [31m✕[39m [2mshould sanitize default sensitive fields (2 ms)[22m
      [31m✕[39m [2mshould handle nested sensitive fields (3 ms)[22m
    Multi-Transport Integration
      [31m✕[39m [2mshould log to both console and file (1 ms)[22m
    Log Level Filtering
      [31m✕[39m [2mshould filter logs by level (5 ms)[22m
      [31m✕[39m [2mshould log all levels when set to verbose (4 ms)[22m
    Exception and Rejection Handling
      [31m✕[39m [2mshould handle unhandled exceptions (1 ms)[22m
    Environment-Specific Configuration
      [32m✓[39m [2mshould use production settings (7 ms)[22m
      [32m✓[39m [2mshould use development settings (2 ms)[22m
    Metadata Enrichment
      [31m✕[39m [2mshould include service metadata in all logs (1 ms)[22m
      [31m✕[39m [2mshould merge default meta with log metadata (2 ms)[22m
    Concurrent Logging
      [31m✕[39m [2mshould handle concurrent log writes (1 ms)[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › File Logging Integration › should write logs to file[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:37:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › File Logging Integration › should write errors to separate error file[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:81:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › File Logging Integration › should create JSON formatted logs in file[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:121:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Sanitization Integration › should sanitize sensitive fields in logs[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 175 |[39m[22m
[2m     [90m 176 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 177 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 178 |[39m           stream[33m:[39m {[22m
[2m     [90m 179 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 180 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:177:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Sanitization Integration › should sanitize default sensitive fields[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 213 |[39m[22m
[2m     [90m 214 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 215 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 216 |[39m           stream[33m:[39m {[22m
[2m     [90m 217 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 218 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:215:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Sanitization Integration › should handle nested sensitive fields[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 249 |[39m[22m
[2m     [90m 250 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 251 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 252 |[39m           stream[33m:[39m {[22m
[2m     [90m 253 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 254 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:251:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Multi-Transport Integration › should log to both console and file[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:292:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Log Level Filtering › should filter logs by level[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 345 |[39m[22m
[2m     [90m 346 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 347 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 348 |[39m           stream[33m:[39m {[22m
[2m     [90m 349 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 350 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:347:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Log Level Filtering › should log all levels when set to verbose[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 379 |[39m[22m
[2m     [90m 380 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 381 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 382 |[39m           stream[33m:[39m {[22m
[2m     [90m 383 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 384 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:381:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Exception and Rejection Handling › should handle unhandled exceptions[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:415:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Metadata Enrichment › should include service metadata in all logs[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 489 |[39m[22m
[2m     [90m 490 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 491 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 492 |[39m           stream[33m:[39m {[22m
[2m     [90m 493 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 494 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:491:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Metadata Enrichment › should merge default meta with log metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 518 |[39m[22m
[2m     [90m 519 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 520 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 521 |[39m           stream[33m:[39m {[22m
[2m     [90m 522 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 523 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:520:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Integration Tests › Concurrent Logging › should handle concurrent log writes[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 555 |[39m[22m
[2m     [90m 556 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 557 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 558 |[39m           stream[33m:[39m {[22m
[2m     [90m 559 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 560 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/integration.spec.ts[39m[0m[2m:557:9)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/formatters/__tests__/[22m[1mjson.formatter.spec.ts[22m
  JSON Formatter
    Basic Formatting
      [31m✕[39m [2mshould format log as valid JSON (9 ms)[22m
      [31m✕[39m [2mshould include all required fields (1 ms)[22m
      [31m✕[39m [2mshould format timestamp in ISO 8601 format (1 ms)[22m
    Log Levels
      [31m✕[39m [2mshould format error level correctly (1 ms)[22m
      [31m✕[39m [2mshould format warn level correctly (1 ms)[22m
      [31m✕[39m [2mshould format info level correctly (1 ms)[22m
      [31m✕[39m [2mshould format http level correctly (1 ms)[22m
      [31m✕[39m [2mshould format debug level correctly (1 ms)[22m
      [31m✕[39m [2mshould format verbose level correctly (1 ms)[22m
    Context and Correlation ID
      [31m✕[39m [2mshould include context when provided (1 ms)[22m
      [31m✕[39m [2mshould include correlationId when provided[22m
      [31m✕[39m [2mshould include both context and correlationId[22m
      [31m✕[39m [2mshould work without context or correlationId (1 ms)[22m
    Metadata Handling
      [31m✕[39m [2mshould include simple metadata (1 ms)[22m
      [31m✕[39m [2mshould include nested metadata objects (3 ms)[22m
      [31m✕[39m [2mshould handle array metadata (1 ms)[22m
      [31m✕[39m [2mshould handle empty metadata (1 ms)[22m
      [31m✕[39m [2mshould handle null and undefined values (1 ms)[22m
    Error Handling
      [31m✕[39m [2mshould include stack trace for errors (1 ms)[22m
      [31m✕[39m [2mshould format Error objects correctly (1 ms)[22m
      [31m✕[39m [2mshould handle errors without stack traces (1 ms)[22m
    Special Characters
      [31m✕[39m [2mshould escape special characters in strings (2 ms)[22m
      [31m✕[39m [2mshould handle Unicode characters (1 ms)[22m
      [31m✕[39m [2mshould handle backslashes[22m
    Large Payloads
      [31m✕[39m [2mshould handle large metadata objects (1 ms)[22m
      [31m✕[39m [2mshould handle deeply nested objects (1 ms)[22m
      [31m✕[39m [2mshould handle large string messages (1 ms)[22m
    Consistency
      [31m✕[39m [2mshould produce consistent output for same input[22m
      [31m✕[39m [2mshould maintain field order consistency[22m
    Edge Cases
      [31m✕[39m [2mshould handle empty message[22m
      [31m✕[39m [2mshould handle very long messages[22m
      [31m✕[39m [2mshould handle circular references gracefully (1 ms)[22m
      [31m✕[39m [2mshould handle Date objects (1 ms)[22m
      [31m✕[39m [2mshould handle boolean values (1 ms)[22m
      [31m✕[39m [2mshould handle numeric values[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Basic Formatting › should format log as valid JSON[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Basic Formatting › should format log as valid JSON[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Basic Formatting › should include all required fields[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Basic Formatting › should include all required fields[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Basic Formatting › should format timestamp in ISO 8601 format[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Basic Formatting › should format timestamp in ISO 8601 format[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format error level correctly[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format error level correctly[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format warn level correctly[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format warn level correctly[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format info level correctly[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format info level correctly[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format http level correctly[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format http level correctly[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format debug level correctly[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format debug level correctly[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format verbose level correctly[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Log Levels › should format verbose level correctly[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Context and Correlation ID › should include context when provided[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Context and Correlation ID › should include context when provided[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Context and Correlation ID › should include correlationId when provided[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Context and Correlation ID › should include correlationId when provided[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Context and Correlation ID › should include both context and correlationId[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Context and Correlation ID › should include both context and correlationId[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Context and Correlation ID › should work without context or correlationId[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Context and Correlation ID › should work without context or correlationId[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should include simple metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should include simple metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should include nested metadata objects[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should include nested metadata objects[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should handle array metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should handle array metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should handle empty metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should handle empty metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should handle null and undefined values[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Metadata Handling › should handle null and undefined values[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Error Handling › should include stack trace for errors[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Error Handling › should include stack trace for errors[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Error Handling › should format Error objects correctly[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Error Handling › should format Error objects correctly[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Error Handling › should handle errors without stack traces[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Error Handling › should handle errors without stack traces[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Special Characters › should escape special characters in strings[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Special Characters › should escape special characters in strings[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Special Characters › should handle Unicode characters[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Special Characters › should handle Unicode characters[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Special Characters › should handle backslashes[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Special Characters › should handle backslashes[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Large Payloads › should handle large metadata objects[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Large Payloads › should handle large metadata objects[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Large Payloads › should handle deeply nested objects[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Large Payloads › should handle deeply nested objects[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Large Payloads › should handle large string messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Large Payloads › should handle large string messages[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Consistency › should produce consistent output for same input[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Consistency › should produce consistent output for same input[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Consistency › should maintain field order consistency[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Consistency › should maintain field order consistency[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle empty message[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle empty message[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle very long messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle very long messages[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle circular references gracefully[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle circular references gracefully[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle Date objects[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle Date objects[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle boolean values[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle boolean values[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle numeric values[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 18 |[39m       format[33m:[39m jsonFormatter[33m,[39m[22m
[2m     [90m 19 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m           stream[33m:[39m {[22m
[2m     [90m 22 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 23 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:20:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mJSON Formatter › Edge Cases › should handle numeric values[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m   })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/json.formatter.spec.ts[39m[0m[2m:32:12)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mlogger.service.spec.ts[22m
  LoggerService
    Initialization
      [31m✕[39m [2mshould be defined (8 ms)[22m
      [31m✕[39m [2mshould set initial context (1 ms)[22m
    Context Management
      [31m✕[39m [2mshould update context using setContext (1 ms)[22m
      [31m✕[39m [2mshould allow context override in log methods (1 ms)[22m
    Logging Methods
      [31m✕[39m [2mshould log info messages (1 ms)[22m
      [31m✕[39m [2mshould log error messages with stack trace[22m
      [31m✕[39m [2mshould log warning messages (1 ms)[22m
      [31m✕[39m [2mshould log debug messages (1 ms)[22m
      [31m✕[39m [2mshould log verbose messages (1 ms)[22m
      [31m✕[39m [2mshould log HTTP messages (1 ms)[22m
    Correlation ID Support
      [31m✕[39m [2mshould include correlation ID from AsyncLocalStorage (1 ms)[22m
      [31m✕[39m [2mshould set correlation ID using static method (1 ms)[22m
      [31m✕[39m [2mshould work without correlation ID (1 ms)[22m
    Child Logger
      [31m✕[39m [2mshould create child logger with new context (1 ms)[22m
      [31m✕[39m [2mshould maintain parent logger context[22m
    Metadata Handling
      [31m✕[39m [2mshould include metadata in logs (1 ms)[22m
      [31m✕[39m [2mshould handle empty metadata (1 ms)[22m
      [31m✕[39m [2mshould handle undefined metadata (1 ms)[22m
      [31m✕[39m [2mshould handle complex metadata objects (1 ms)[22m
    Winston Logger Access
      [31m✕[39m [2mshould provide access to Winston logger instance[22m
    Error Handling
      [31m✕[39m [2mshould handle Error objects in metadata[22m
      [31m✕[39m [2mshould handle null and undefined values in metadata[22m
    AsyncLocalStorage
      [31m✕[39m [2mshould provide access to AsyncLocalStorage (1 ms)[22m
      [31m✕[39m [2mshould maintain correlation ID across async operations[22m

[1m[31m  [1m● [22m[1mLoggerService › Initialization › should be defined[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Initialization › should set initial context[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Context Management › should update context using setContext[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Context Management › should allow context override in log methods[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Logging Methods › should log info messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Logging Methods › should log error messages with stack trace[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Logging Methods › should log warning messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Logging Methods › should log debug messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Logging Methods › should log verbose messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Logging Methods › should log HTTP messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Correlation ID Support › should include correlation ID from AsyncLocalStorage[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Correlation ID Support › should set correlation ID using static method[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Correlation ID Support › should work without correlation ID[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Child Logger › should create child logger with new context[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Child Logger › should maintain parent logger context[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Metadata Handling › should include metadata in logs[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Metadata Handling › should handle empty metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Metadata Handling › should handle undefined metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Metadata Handling › should handle complex metadata objects[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Winston Logger Access › should provide access to Winston logger instance[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Error Handling › should handle Error objects in metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › Error Handling › should handle null and undefined values in metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › AsyncLocalStorage › should provide access to AsyncLocalStorage[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLoggerService › AsyncLocalStorage › should maintain correlation ID across async operations[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m       level[33m:[39m [32m'debug'[39m[33m,[39m[22m
[2m     [90m 17 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m           stream[33m:[39m {[22m
[2m     [90m 20 |[39m             write[33m:[39m mockLogFn[33m,[39m[22m
[2m     [90m 21 |[39m           } [36mas[39m any[33m,[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/logger.service.spec.ts[39m[0m[2m:18:9)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/formatters/__tests__/[22m[1mdevelopment.formatter.spec.ts[22m
  Development Formatter
    Basic Formatting
      [31m✕[39m [2mshould format log as human-readable string (16 ms)[22m
      [31m✕[39m [2mshould include timestamp (1 ms)[22m
      [31m✕[39m [2mshould not be JSON formatted (1 ms)[22m
    Log Levels
      [31m✕[39m [2mshould display ERROR level (2 ms)[22m
      [31m✕[39m [2mshould display WARN level (1 ms)[22m
      [31m✕[39m [2mshould display INFO level (1 ms)[22m
      [31m✕[39m [2mshould display HTTP level (1 ms)[22m
      [31m✕[39m [2mshould display DEBUG level (1 ms)[22m
      [31m✕[39m [2mshould display VERBOSE level (1 ms)[22m
    Context Display
      [31m✕[39m [2mshould display context in brackets (1 ms)[22m
      [31m✕[39m [2mshould display different contexts (2 ms)[22m
      [31m✕[39m [2mshould handle logs without context (1 ms)[22m
      [31m✕[39m [2mshould handle long context names (1 ms)[22m
    Correlation ID Display
      [31m✕[39m [2mshould display correlation ID in curly braces (3 ms)[22m
      [31m✕[39m [2mshould truncate long correlation IDs[22m
      [31m✕[39m [2mshould handle short correlation IDs (1 ms)[22m
      [31m✕[39m [2mshould handle logs without correlation ID (1 ms)[22m
    Metadata Display
      [31m✕[39m [2mshould display simple metadata on new line (1 ms)[22m
      [31m✕[39m [2mshould display nested metadata with indentation (1 ms)[22m
      [31m✕[39m [2mshould handle array metadata[22m
      [31m✕[39m [2mshould not display metadata section when empty (3 ms)[22m
      [31m✕[39m [2mshould handle complex metadata structures[22m
    Stack Trace Display
      [31m✕[39m [2mshould display stack trace on new line (1 ms)[22m
      [31m✕[39m [2mshould display multi-line stack traces[22m
      [31m✕[39m [2mshould handle errors without stack traces (1 ms)[22m
    Combined Features
      [31m✕[39m [2mshould display all components together (1 ms)[22m
      [31m✕[39m [2mshould display error with all components[22m
    Special Characters
      [31m✕[39m [2mshould handle special characters in messages (1 ms)[22m
      [31m✕[39m [2mshould handle newlines in messages[22m
      [31m✕[39m [2mshould handle Unicode characters (1 ms)[22m
      [31m✕[39m [2mshould handle tabs and special whitespace (1 ms)[22m
    Performance
      [31m✕[39m [2mshould handle rapid consecutive logs[22m
      [31m✕[39m [2mshould handle large messages (1 ms)[22m
      [31m✕[39m [2mshould handle large metadata[22m
    Edge Cases
      [31m✕[39m [2mshould handle empty messages[22m
      [31m✕[39m [2mshould handle null and undefined in metadata (1 ms)[22m
      [31m✕[39m [2mshould handle Date objects in metadata (1 ms)[22m
      [31m✕[39m [2mshould handle boolean metadata[22m
      [31m✕[39m [2mshould handle numeric metadata[22m
    Readability
      [31m✕[39m [2mshould produce readable output format[22m
      [31m✕[39m [2mshould separate components visually[22m
    Consistency
      [31m✕[39m [2mshould produce consistent format across different log levels (1 ms)[22m
      [31m✕[39m [2mshould maintain format with varying metadata sizes[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Basic Formatting › should format log as human-readable string[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Basic Formatting › should format log as human-readable string[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Basic Formatting › should include timestamp[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Basic Formatting › should include timestamp[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Basic Formatting › should not be JSON formatted[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Basic Formatting › should not be JSON formatted[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display ERROR level[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display ERROR level[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display WARN level[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display WARN level[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display INFO level[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display INFO level[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display HTTP level[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display HTTP level[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display DEBUG level[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display DEBUG level[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display VERBOSE level[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Log Levels › should display VERBOSE level[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Context Display › should display context in brackets[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Context Display › should display context in brackets[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Context Display › should display different contexts[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Context Display › should display different contexts[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Context Display › should handle logs without context[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Context Display › should handle logs without context[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Context Display › should handle long context names[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Context Display › should handle long context names[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Correlation ID Display › should display correlation ID in curly braces[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Correlation ID Display › should display correlation ID in curly braces[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Correlation ID Display › should truncate long correlation IDs[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Correlation ID Display › should truncate long correlation IDs[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Correlation ID Display › should handle short correlation IDs[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Correlation ID Display › should handle short correlation IDs[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Correlation ID Display › should handle logs without correlation ID[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Correlation ID Display › should handle logs without correlation ID[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should display simple metadata on new line[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should display simple metadata on new line[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should display nested metadata with indentation[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should display nested metadata with indentation[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should handle array metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should handle array metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should not display metadata section when empty[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should not display metadata section when empty[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should handle complex metadata structures[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Metadata Display › should handle complex metadata structures[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Stack Trace Display › should display stack trace on new line[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Stack Trace Display › should display stack trace on new line[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Stack Trace Display › should display multi-line stack traces[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Stack Trace Display › should display multi-line stack traces[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Stack Trace Display › should handle errors without stack traces[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Stack Trace Display › should handle errors without stack traces[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Combined Features › should display all components together[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Combined Features › should display all components together[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Combined Features �� should display error with all components[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Combined Features › should display error with all components[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Special Characters › should handle special characters in messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Special Characters › should handle special characters in messages[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Special Characters › should handle newlines in messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Special Characters › should handle newlines in messages[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Special Characters › should handle Unicode characters[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Special Characters › should handle Unicode characters[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Special Characters › should handle tabs and special whitespace[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Special Characters › should handle tabs and special whitespace[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Performance › should handle rapid consecutive logs[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Performance › should handle rapid consecutive logs[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Performance › should handle large messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Performance › should handle large messages[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Performance › should handle large metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Performance › should handle large metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle empty messages[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle empty messages[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle null and undefined in metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle null and undefined in metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle Date objects in metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle Date objects in metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle boolean metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle boolean metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle numeric metadata[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Edge Cases › should handle numeric metadata[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Readability › should produce readable output format[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Readability › should produce readable output format[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Readability › should separate components visually[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Readability › should separate components visually[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Consistency › should produce consistent format across different log levels[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Consistency › should produce consistent format across different log levels[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Consistency › should maintain format with varying metadata sizes[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 17 |[39m       format[33m:[39m developmentFormatter[33m,[39m[22m
[2m     [90m 18 |[39m       transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m           stream[33m:[39m {[22m
[2m     [90m 21 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 22 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:19:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mDevelopment Formatter › Consistency › should maintain format with varying metadata sizes[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 29 |[39m[22m
[2m     [90m 30 |[39m   afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m     logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   })[33m;[39m[22m
[2m     [90m 33 |[39m[22m
[2m     [90m 34 |[39m   describe([32m'Basic Formatting'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/formatters/__tests__/development.formatter.spec.ts[39m[0m[2m:31:12)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mperformance.spec.ts[22m
  Logger Performance Tests
    LoggerService Performance
      [31m✕[39m [2mshould log single message in under 5ms (8 ms)[22m
      [31m✕[39m [2mshould log 1000 messages in under 500ms (1 ms)[22m
      [31m✕[39m [2mshould log with metadata in under 5ms[22m
      [31m✕[39m [2mshould log with complex metadata in under 10ms (1 ms)[22m
      [31m✕[39m [2mshould handle error logging with stack trace in under 5ms[22m
      [31m✕[39m [2mshould create child logger in under 1ms (1 ms)[22m
      [31m✕[39m [2mshould handle concurrent logging efficiently (1 ms)[22m
    Winston Configuration Performance
      [32m✓[39m [2mshould create logger config in under 10ms (2 ms)[22m
      [31m✕[39m [2mshould create logger with file transports in under 20ms (1 ms)[22m
      [32m✓[39m [2mshould handle sanitization overhead efficiently (2 ms)[22m
    Correlation ID Performance
      [31m✕[39m [2mshould log with correlation ID in under 5ms (1 ms)[22m
      [31m✕[39m [2mshould handle multiple correlation ID contexts efficiently[22m
      [31m✕[39m [2mshould handle nested correlation ID contexts[22m
    Formatting Performance
      [31m✕[39m [2mshould format JSON logs efficiently[22m
      [31m✕[39m [2mshould format pretty logs efficiently[22m
    Memory Performance
      [31m✕[39m [2mshould not leak memory with continuous logging[22m
      [31m✕[39m [2mshould handle large metadata without excessive memory[22m
    Throughput Tests
      [31m✕[39m [2mshould maintain consistent throughput (1 ms)[22m
      [31m✕[39m [2mshould achieve minimum throughput of 1000 logs/second (1 ms)[22m
    Context Switching Performance
      [31m✕[39m [2mshould switch contexts efficiently[22m
      [31m✕[39m [2mshould override context efficiently[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should log single message in under 5ms[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m         level[33m:[39m [32m'verbose'[39m[33m,[39m[22m
[2m     [90m 17 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m             stream[33m:[39m {[22m
[2m     [90m 20 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 21 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:18:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should log single message in under 5ms[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m     })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m     it([32m'should log single message in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:32:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should log 1000 messages in under 500ms[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m         level[33m:[39m [32m'verbose'[39m[33m,[39m[22m
[2m     [90m 17 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m             stream[33m:[39m {[22m
[2m     [90m 20 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 21 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:18:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should log 1000 messages in under 500ms[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m     })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m     it([32m'should log single message in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:32:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should log with metadata in under 5ms[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m         level[33m:[39m [32m'verbose'[39m[33m,[39m[22m
[2m     [90m 17 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m             stream[33m:[39m {[22m
[2m     [90m 20 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 21 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:18:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should log with metadata in under 5ms[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m     })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m     it([32m'should log single message in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:32:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should log with complex metadata in under 10ms[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m         level[33m:[39m [32m'verbose'[39m[33m,[39m[22m
[2m     [90m 17 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m             stream[33m:[39m {[22m
[2m     [90m 20 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 21 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:18:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should log with complex metadata in under 10ms[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m     })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m     it([32m'should log single message in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:32:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should handle error logging with stack trace in under 5ms[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m         level[33m:[39m [32m'verbose'[39m[33m,[39m[22m
[2m     [90m 17 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m             stream[33m:[39m {[22m
[2m     [90m 20 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 21 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:18:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should handle error logging with stack trace in under 5ms[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m     })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m     it([32m'should log single message in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:32:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should create child logger in under 1ms[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m         level[33m:[39m [32m'verbose'[39m[33m,[39m[22m
[2m     [90m 17 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m             stream[33m:[39m {[22m
[2m     [90m 20 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 21 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:18:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should create child logger in under 1ms[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m     })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m     it([32m'should log single message in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:32:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should handle concurrent logging efficiently[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 16 |[39m         level[33m:[39m [32m'verbose'[39m[33m,[39m[22m
[2m     [90m 17 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 18 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m    |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 19 |[39m             stream[33m:[39m {[22m
[2m     [90m 20 |[39m               write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 21 |[39m                 logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:18:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › LoggerService Performance › should handle concurrent logging efficiently[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 30 |[39m[22m
[2m     [90m 31 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 32 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m    |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 33 |[39m     })[33m;[39m[22m
[2m     [90m 34 |[39m[22m
[2m     [90m 35 |[39m     it([32m'should log single message in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:32:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Winston Configuration Performance › should create logger with file transports in under 20ms[39m[22m

    TypeError: DailyRotateFile is not a constructor
[2m[22m
[2m    [0m [90m 18 |[39m   [90m// Combined log file[39m[22m
[2m     [90m 19 |[39m   transports[33m.[39mpush([22m
[2m    [31m[1m>[22m[2m[39m[90m 20 |[39m     [36mnew[39m [33mDailyRotateFile[39m({[22m
[2m     [90m    |[39m     [31m[1m^[22m[2m[39m[22m
[2m     [90m 21 |[39m       filename[33m:[39m fileOptions[33m.[39mfilename[33m,[39m[22m
[2m     [90m 22 |[39m       datePattern[33m:[39m [32m'YYYY-MM-DD'[39m[33m,[39m[22m
[2m     [90m 23 |[39m       maxSize[33m:[39m fileOptions[33m.[39mmaxSize [33m||[39m [32m'20m'[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat createFileTransports ([22m[2msrc/lib/transports/file.transport.ts[2m:20:5)[22m[2m[22m
[2m      [2mat createLoggerConfig ([22m[2msrc/lib/logger.config.ts[2m:56:44)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:175:46)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Correlation ID Performance › should log with correlation ID in under 5ms[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 211 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 212 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m             stream[33m:[39m {[22m
[2m     [90m 215 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 216 |[39m                 [90m// Discard output for performance testing[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:213:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Correlation ID Performance › should log with correlation ID in under 5ms[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 225 |[39m[22m
[2m     [90m 226 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 227 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m     |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 228 |[39m     })[33m;[39m[22m
[2m     [90m 229 |[39m[22m
[2m     [90m 230 |[39m     it([32m'should log with correlation ID in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:227:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Correlation ID Performance › should handle multiple correlation ID contexts efficiently[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 211 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 212 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m             stream[33m:[39m {[22m
[2m     [90m 215 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 216 |[39m                 [90m// Discard output for performance testing[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:213:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Correlation ID Performance › should handle multiple correlation ID contexts efficiently[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 225 |[39m[22m
[2m     [90m 226 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 227 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m     |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 228 |[39m     })[33m;[39m[22m
[2m     [90m 229 |[39m[22m
[2m     [90m 230 |[39m     it([32m'should log with correlation ID in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:227:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Correlation ID Performance › should handle nested correlation ID contexts[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 211 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 212 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m             stream[33m:[39m {[22m
[2m     [90m 215 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 216 |[39m                 [90m// Discard output for performance testing[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:213:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Correlation ID Performance › should handle nested correlation ID contexts[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 225 |[39m[22m
[2m     [90m 226 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 227 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m     |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 228 |[39m     })[33m;[39m[22m
[2m     [90m 229 |[39m[22m
[2m     [90m 230 |[39m     it([32m'should log with correlation ID in under 5ms'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:227:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Formatting Performance › should format JSON logs efficiently[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 293 |[39m[22m
[2m     [90m 294 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 295 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 296 |[39m           stream[33m:[39m {[22m
[2m     [90m 297 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 298 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:295:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Formatting Performance › should format pretty logs efficiently[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 333 |[39m[22m
[2m     [90m 334 |[39m       logger[33m.[39madd([22m
[2m    [31m[1m>[22m[2m[39m[90m 335 |[39m         [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 336 |[39m           stream[33m:[39m {[22m
[2m     [90m 337 |[39m             write[33m:[39m (message[33m:[39m string) [33m=>[39m {[22m
[2m     [90m 338 |[39m               logOutput[33m.[39mpush(message[33m.[39mtrim())[33m;[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:335:9)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Memory Performance › should not leak memory with continuous logging[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 363 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 364 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 365 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 366 |[39m             stream[33m:[39m {[22m
[2m     [90m 367 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 368 |[39m                 [90m// Discard output[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:365:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Memory Performance › should handle large metadata without excessive memory[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 403 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 404 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 405 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 406 |[39m             stream[33m:[39m {[22m
[2m     [90m 407 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 408 |[39m                 [90m// Discard output[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:405:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Throughput Tests › should maintain consistent throughput[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 439 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 440 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 441 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 442 |[39m             stream[33m:[39m {[22m
[2m     [90m 443 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 444 |[39m                 [90m// Discard output[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:441:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Throughput Tests › should achieve minimum throughput of 1000 logs/second[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 482 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 483 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 484 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 485 |[39m             stream[33m:[39m {[22m
[2m     [90m 486 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 487 |[39m                 [90m// Discard output[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:484:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Context Switching Performance › should switch contexts efficiently[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 522 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 523 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 524 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 525 |[39m             stream[33m:[39m {[22m
[2m     [90m 526 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 527 |[39m                 [90m// Discard output[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:524:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Context Switching Performance › should switch contexts efficiently[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 536 |[39m[22m
[2m     [90m 537 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 538 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m     |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 539 |[39m     })[33m;[39m[22m
[2m     [90m 540 |[39m[22m
[2m     [90m 541 |[39m     it([32m'should switch contexts efficiently'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:538:14)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Context Switching Performance › should override context efficiently[39m[22m

    options.stream is required.
[2m[22m
[2m    [0m [90m 522 |[39m         level[33m:[39m [32m'info'[39m[33m,[39m[22m
[2m     [90m 523 |[39m         transports[33m:[39m [[22m
[2m    [31m[1m>[22m[2m[39m[90m 524 |[39m           [36mnew[39m winston[33m.[39mtransports[33m.[39m[33mStream[39m({[22m
[2m     [90m     |[39m           [31m[1m^[22m[2m[39m[22m
[2m     [90m 525 |[39m             stream[33m:[39m {[22m
[2m     [90m 526 |[39m               write[33m:[39m () [33m=>[39m {[22m
[2m     [90m 527 |[39m                 [90m// Discard output[39m[0m[22m
[2m[22m
[2m      [2mat new Stream ([22m[2m../../node_modules/.pnpm/winston@3.18.3/node_modules/winston/lib/winston/transports/stream.js[2m:30:13)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:524:11)[22m[2m[22m

[1m[31m  [1m● [22m[1mLogger Performance Tests › Context Switching Performance › should override context efficiently[39m[22m

    TypeError: Cannot read properties of undefined (reading 'close')
[2m[22m
[2m    [0m [90m 536 |[39m[22m
[2m     [90m 537 |[39m     afterEach(() [33m=>[39m {[22m
[2m    [31m[1m>[22m[2m[39m[90m 538 |[39m       logger[33m.[39mclose()[33m;[39m[22m
[2m     [90m     |[39m              [31m[1m^[22m[2m[39m[22m
[2m     [90m 539 |[39m     })[33m;[39m[22m
[2m     [90m 540 |[39m[22m
[2m     [90m 541 |[39m     it([32m'should switch contexts efficiently'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36msrc/lib/__tests__/performance.spec.ts[39m[0m[2m:538:14)[22m[2m[22m

(node:23726) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 uncaughtException listeners added to [process]. Use emitter.setMaxListeners() to increase limit
(Use `node --trace-warnings ...` to show where the warning was created)
(node:23726) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 unhandledRejection listeners added to [process]. Use emitter.setMaxListeners() to increase limit
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m logger [39m[27m[0m [2mpackages/logger/src/lib/__tests__/[22m[1mlogger.module.spec.ts[22m
  LoggerModule
    forRoot
      [32m✓[39m [2mshould provide LoggerService (22 ms)[22m
      [32m✓[39m [2mshould provide WINSTON_LOGGER (4 ms)[22m
      [32m✓[39m [2mshould provide LOGGER_MODULE_OPTIONS (4 ms)[22m
      [32m✓[39m [2mshould configure Winston with correct service name (3 ms)[22m
      [32m✓[39m [2mshould use default isGlobal as true (6 ms)[22m
    forRootAsync
      [32m✓[39m [2mshould provide LoggerService from async config (3 ms)[22m
      [32m✓[39m [2mshould configure Winston with async config (3 ms)[22m
      [32m✓[39m [2mshould support async factory with Promise (16 ms)[22m
      [32m✓[39m [2mshould support dependency injection in factory (7 ms)[22m
    Module Configuration
      [32m✓[39m [2mshould configure console transport (3 ms)[22m
      [32m✓[39m [2mshould configure with custom log level (2 ms)[22m
      [32m✓[39m [2mshould configure with pretty printing (2 ms)[22m
      [32m✓[39m [2mshould configure with environment (2 ms)[22m
      [32m✓[39m [2mshould use default environment from NODE_ENV (2 ms)[22m
    Global Module
      [32m✓[39m [2mshould be global by default[22m
      [32m✓[39m [2mshould respect isGlobal: false (1 ms)[22m
    Exports
      [32m✓[39m [2mshould export LoggerService[22m
      [32m✓[39m [2mshould export WINSTON_LOGGER (1 ms)[22m

[1mTest Suites: [22m[1m[31m8 failed[39m[22m, [1m[32m1 passed[39m[22m, 9 total
[1mTests:       [22m[1m[31m176 failed[39m[22m, [1m[32m71 passed[39m[22m, 247 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        2.138 s
[2mRan all test suites[22m[2m.[22m
