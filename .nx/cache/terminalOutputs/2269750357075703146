[31m[Nest] 2647  - [39m10/18/2025, 2:43:35 PM [31m  ERROR[39m [38;5;3m[DatabaseService] [39m[31mFailed to connect to database[39m
[31m[Nest] 2647  - [39m10/18/2025, 2:43:35 PM [31m  ERROR[39m [38;5;3m[DatabaseService] [39mError: Connection failed
    at Object.<anonymous> [90m(/Users/acarroll/dev/projects/orion/[39mpackages/storage/src/app/services/database.service.spec.ts:32:21[90m)[39m
    at Promise.finally.completed [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1557:28[90m)[39m
    at new Promise (<anonymous>)
    at callAsyncCircusFn [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1497:10[90m)[39m
    at _callCircusTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1007:40[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at _runTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:947:3[90m)[39m
    at [90m/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:849:7
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:862:11[90m)[39m
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:857:11[90m)[39m
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:857:11[90m)[39m
    at run [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:761:3[90m)[39m
    at runAndTransformResultsToJestFormat [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1918:21[90m)[39m
    at jestAdapter [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/runner.js:101:19[90m)[39m
    at runTestInternal [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:275:16[90m)[39m
    at runTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:343:7[90m)[39m
    at Object.worker [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:497:12[90m)[39m
[31m[Nest] 2647  - [39m10/18/2025, 2:43:35 PM [31m  ERROR[39m [38;5;3m[DatabaseService] [39m[31mFailed to disconnect from database[39m
[31m[Nest] 2647  - [39m10/18/2025, 2:43:35 PM [31m  ERROR[39m [38;5;3m[DatabaseService] [39mError: Disconnect failed
    at Object.<anonymous> [90m(/Users/acarroll/dev/projects/orion/[39mpackages/storage/src/app/services/database.service.spec.ts:47:21[90m)[39m
    at Promise.finally.completed [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1557:28[90m)[39m
    at new Promise (<anonymous>)
    at callAsyncCircusFn [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1497:10[90m)[39m
    at _callCircusTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1007:40[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at _runTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:947:3[90m)[39m
    at [90m/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:849:7
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:862:11[90m)[39m
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:857:11[90m)[39m
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:857:11[90m)[39m
    at run [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:761:3[90m)[39m
    at runAndTransformResultsToJestFormat [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1918:21[90m)[39m
    at jestAdapter [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/runner.js:101:19[90m)[39m
    at runTestInternal [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:275:16[90m)[39m
    at runTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:343:7[90m)[39m
    at Object.worker [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:497:12[90m)[39m
[31m[Nest] 2647  - [39m10/18/2025, 2:43:35 PM [31m  ERROR[39m [38;5;3m[DatabaseService] [39m[31mDatabase health check failed[39m
[31m[Nest] 2647  - [39m10/18/2025, 2:43:35 PM [31m  ERROR[39m [38;5;3m[DatabaseService] [39mError: Query failed
    at Object.<anonymous> [90m(/Users/acarroll/dev/projects/orion/[39mpackages/storage/src/app/services/database.service.spec.ts:64:58[90m)[39m
    at Promise.finally.completed [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1557:28[90m)[39m
    at new Promise (<anonymous>)
    at callAsyncCircusFn [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1497:10[90m)[39m
    at _callCircusTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1007:40[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
    at _runTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:947:3[90m)[39m
    at [90m/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:849:7
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:862:11[90m)[39m
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:857:11[90m)[39m
    at _runTestsForDescribeBlock [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:857:11[90m)[39m
    at run [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:761:3[90m)[39m
    at runAndTransformResultsToJestFormat [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/jestAdapterInit.js:1918:21[90m)[39m
    at jestAdapter [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-circus@30.2.0_babel-plugin-macros@3.1.0/node_modules/[4mjest-circus[24m/build/runner.js:101:19[90m)[39m
    at runTestInternal [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:275:16[90m)[39m
    at runTest [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:343:7[90m)[39m
    at Object.worker [90m(/Users/acarroll/dev/projects/orion/[39mnode_modules/[4m.pnpm[24m/jest-runner@30.2.0/node_modules/[4mjest-runner[24m/build/testWorker.js:497:12[90m)[39m
[0m[7m[1m[32m PASS [39m[22m[27m[0m [0m[7m[37m storage [39m[27m[0m [2mpackages/storage/src/app/services/[22m[1mdatabase.service.spec.ts[22m
  DatabaseService
    onModuleInit
      [32m✓[39m [2mshould connect to database on module init (20 ms)[22m
      [32m✓[39m [2mshould throw error if connection fails (23 ms)[22m
    onModuleDestroy
      [32m✓[39m [2mshould disconnect from database on module destroy (5 ms)[22m
      [32m✓[39m [2mshould handle disconnect errors gracefully (5 ms)[22m
    healthCheck
      [32m✓[39m [2mshould return true when query succeeds (4 ms)[22m
      [32m✓[39m [2mshould return false when query fails (4 ms)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m storage [39m[27m[0m [2mpackages/storage/src/app/services/[22m[1mhealth.service.spec.ts[22m
  [1m● [22mTest suite failed to run

    [1m[31mJest encountered an unexpected token[39m[22m

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     • If you are trying to use ECMAScript Modules, see [4mhttps://jestjs.io/docs/ecmascript-modules[24m for how to enable it.
     • If you are trying to use TypeScript, see [4mhttps://jestjs.io/docs/getting-started#using-typescript[24m
     • To have some of your "node_modules" files transformed, you can specify a custom [1m"transformIgnorePatterns"[22m in your config.
     • If you need a custom transformation, specify a [1m"transform"[22m option in your config.
     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the [1m"moduleNameMapper"[22m config option.

    You'll find more details and examples of these config options in the docs:
    [36mhttps://jestjs.io/docs/configuration[39m
    For information about custom transformations, see:
    [36mhttps://jestjs.io/docs/code-transformation[39m

    [1m[31mDetails:[39m[22m

    /Users/acarroll/dev/projects/orion/node_modules/.pnpm/uuid@13.0.0/node_modules/uuid/dist-node/index.js:1
    export { default as MAX } from './max.js';
    ^^^^^^

    SyntaxError: Unexpected token 'export'

    [0m [90m 10 |[39m [36mimport[39m { getSignedUrl } [36mfrom[39m [32m'@aws-sdk/s3-request-presigner'[39m[33m;[39m
     [90m 11 |[39m [36mimport[39m { [33mReadable[39m } [36mfrom[39m [32m'stream'[39m[33m;[39m
    [31m[1m>[22m[39m[90m 12 |[39m [36mimport[39m { v4 [36mas[39m uuidv4 } [36mfrom[39m [32m'uuid'[39m[33m;[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 13 |[39m
     [90m 14 |[39m [36mexport[39m [36minterface[39m [33mUploadOptions[39m {
     [90m 15 |[39m   key[33m:[39m string[33m;[39m[0m

      [2mat Runtime.createScriptFromCode ([22m../../node_modules/.pnpm/jest-runtime@30.2.0/node_modules/jest-runtime/build/index.js[2m:1318:40)[22m
      [2mat Object.<anonymous> ([22msrc/app/services/s3.service.ts[2m:12:1)[22m
      [2mat Object.<anonymous> ([22msrc/app/services/health.service.ts[2m:3:1)[22m
      [2mat Object.<anonymous> ([22m[0m[36msrc/app/services/health.service.spec.ts[39m[0m[2m:2:1)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m storage [39m[27m[0m [2mpackages/storage/src/app/services/[22m[1mfile.service.spec.ts[22m
  [1m● [22mTest suite failed to run

    [1m[31mJest encountered an unexpected token[39m[22m

    Jest failed to parse a file. This happens e.g. when your code or its dependencies use non-standard JavaScript syntax, or when Jest is not configured to support such syntax.

    Out of the box Jest supports Babel, which will be used to transform your files into valid JS based on your Babel configuration.

    By default "node_modules" folder is ignored by transformers.

    Here's what you can do:
     • If you are trying to use ECMAScript Modules, see [4mhttps://jestjs.io/docs/ecmascript-modules[24m for how to enable it.
     • If you are trying to use TypeScript, see [4mhttps://jestjs.io/docs/getting-started#using-typescript[24m
     • To have some of your "node_modules" files transformed, you can specify a custom [1m"transformIgnorePatterns"[22m in your config.
     • If you need a custom transformation, specify a [1m"transform"[22m option in your config.
     • If you simply want to mock your non-JS modules (e.g. binary assets) you can stub them out with the [1m"moduleNameMapper"[22m config option.

    You'll find more details and examples of these config options in the docs:
    [36mhttps://jestjs.io/docs/configuration[39m
    For information about custom transformations, see:
    [36mhttps://jestjs.io/docs/code-transformation[39m

    [1m[31mDetails:[39m[22m

    /Users/acarroll/dev/projects/orion/node_modules/.pnpm/uuid@13.0.0/node_modules/uuid/dist-node/index.js:1
    export { default as MAX } from './max.js';
    ^^^^^^

    SyntaxError: Unexpected token 'export'

    [0m [90m 10 |[39m [36mimport[39m { getSignedUrl } [36mfrom[39m [32m'@aws-sdk/s3-request-presigner'[39m[33m;[39m
     [90m 11 |[39m [36mimport[39m { [33mReadable[39m } [36mfrom[39m [32m'stream'[39m[33m;[39m
    [31m[1m>[22m[39m[90m 12 |[39m [36mimport[39m { v4 [36mas[39m uuidv4 } [36mfrom[39m [32m'uuid'[39m[33m;[39m
     [90m    |[39m [31m[1m^[22m[39m
     [90m 13 |[39m
     [90m 14 |[39m [36mexport[39m [36minterface[39m [33mUploadOptions[39m {
     [90m 15 |[39m   key[33m:[39m string[33m;[39m[0m

      [2mat Runtime.createScriptFromCode ([22m../../node_modules/.pnpm/jest-runtime@30.2.0/node_modules/jest-runtime/build/index.js[2m:1318:40)[22m
      [2mat Object.<anonymous> ([22msrc/app/services/s3.service.ts[2m:12:1)[22m
      [2mat Object.<anonymous> ([22msrc/app/services/file.service.ts[2m:8:1)[22m
      [2mat Object.<anonymous> ([22m[0m[36msrc/app/services/file.service.spec.ts[39m[0m[2m:4:1)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m storage [39m[27m[0m [2mpackages/storage/src/app/services/[22m[1ms3.service.spec.ts[22m
  [1m● [22mTest suite failed to run

    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m87[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type '{}' is not assignable to parameter of type 'never'.

    [7m87[0m       mockS3Client.send.mockResolvedValueOnce({});
    [7m  [0m [91m                                              ~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m102[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type '{}' is not assignable to parameter of type 'never'.

    [7m102[0m       mockS3Client.send.mockResolvedValueOnce({});
    [7m   [0m [91m                                              ~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m116[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type 'Error' is not assignable to parameter of type 'never'.

    [7m116[0m       mockS3Client.send.mockRejectedValueOnce(new Error('Upload failed'));
    [7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m128[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ Body: Readable; ContentType: string; ContentLength: number; LastModified: Date; }' is not assignable to parameter of type 'never'.

    [7m128[0m       mockS3Client.send.mockResolvedValueOnce({
    [7m   [0m [91m                                              ~[0m
    [7m129[0m         Body: mockStream,
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m...[0m 
    [7m132[0m         LastModified: new Date(),
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m133[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m144[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ Body: undefined; }' is not assignable to parameter of type 'never'.

    [7m144[0m       mockS3Client.send.mockResolvedValueOnce({
    [7m   [0m [91m                                              ~[0m
    [7m145[0m         Body: undefined,
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m146[0m       });
    [7m   [0m [91m~~~~~~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m152[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type 'Error' is not assignable to parameter of type 'never'.

    [7m152[0m       mockS3Client.send.mockRejectedValueOnce(new Error('Download failed'));
    [7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m160[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type '{}' is not assignable to parameter of type 'never'.

    [7m160[0m       mockS3Client.send.mockResolvedValueOnce({});
    [7m   [0m [91m                                              ~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m168[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type 'Error' is not assignable to parameter of type 'never'.

    [7m168[0m       mockS3Client.send.mockRejectedValueOnce(new Error('Delete failed'));
    [7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m176[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type '{}' is not assignable to parameter of type 'never'.

    [7m176[0m       mockS3Client.send.mockResolvedValueOnce({});
    [7m   [0m [91m                                              ~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m187[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type 'any' is not assignable to parameter of type 'never'.

    [7m187[0m       mockS3Client.send.mockRejectedValueOnce(notFoundError);
    [7m   [0m [91m                                              ~~~~~~~~~~~~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m195[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type 'Error' is not assignable to parameter of type 'never'.

    [7m195[0m       mockS3Client.send.mockRejectedValueOnce(new Error('Server error'));
    [7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m276[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ ContentType: string; ContentLength: number; LastModified: Date; Metadata: { userId: string; }; }' is not assignable to parameter of type 'never'.

    [7m276[0m       mockS3Client.send.mockResolvedValueOnce(mockMetadata);
    [7m   [0m [91m                                              ~~~~~~~~~~~~[0m
    [96mpackages/storage/src/app/services/s3.service.spec.ts[0m:[93m287[0m:[93m47[0m - [91merror[0m[90m TS2345: [0mArgument of type 'Error' is not assignable to parameter of type 'never'.

    [7m287[0m       mockS3Client.send.mockRejectedValueOnce(new Error('Metadata failed'));
    [7m   [0m [91m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m storage [39m[27m[0m [2mpackages/storage/src/app/[22m[1mstorage.controller.spec.ts[22m
  [1m● [22mTest suite failed to run

    [96mpackages/storage/src/app/storage.controller.spec.ts[0m:[93m29[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Date | undefined'.

    [7m29[0m       virusScanDate: null,
    [7m  [0m [91m      ~~~~~~~~~~~~~[0m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [0m[7m[37m storage [39m[27m[0m [2mpackages/storage/src/app/integration/[22m[1mstorage.integration.spec.ts[22m
  [1m● [22mTest suite failed to run

    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m33[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m33[0m       return request(app.getHttpServer())
    [7m  [0m [91m             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m36[0m:[93m18[0m - [91merror[0m[90m TS7006: [0mParameter 'res' implicitly has an 'any' type.

    [7m36[0m         .expect((res) => {
    [7m  [0m [91m                 ~~~[0m
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m49[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m49[0m       const response = await request(app.getHttpServer())
    [7m  [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m65[0m:[93m13[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m65[0m       await request(app.getHttpServer())
    [7m  [0m [91m            ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m72[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m72[0m       return request(app.getHttpServer())
    [7m  [0m [91m             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m79[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m79[0m       return request(app.getHttpServer())
    [7m  [0m [91m             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m88[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m88[0m       const response = await request(app.getHttpServer())
    [7m  [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m105[0m:[93m13[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m105[0m       await request(app.getHttpServer())
    [7m   [0m [91m            ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m112[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m112[0m       return request(app.getHttpServer())
    [7m   [0m [91m             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m128[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m128[0m       const response = await request(app.getHttpServer())
    [7m   [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m140[0m:[93m15[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m140[0m         await request(app.getHttpServer())
    [7m   [0m [91m              ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m148[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m148[0m       const response = await request(app.getHttpServer())
    [7m   [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m159[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m159[0m       return request(app.getHttpServer())
    [7m   [0m [91m             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m166[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m166[0m       return request(app.getHttpServer())
    [7m   [0m [91m             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m177[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m177[0m       const response = await request(app.getHttpServer())
    [7m   [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m188[0m:[93m15[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m188[0m         await request(app.getHttpServer())
    [7m   [0m [91m              ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m196[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m196[0m       const response = await request(app.getHttpServer())
    [7m   [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m207[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m207[0m       return request(app.getHttpServer())
    [7m   [0m [91m             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m226[0m:[93m32[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m226[0m         const response = await request(app.getHttpServer())
    [7m   [0m [91m                               ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m240[0m:[93m15[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m240[0m         await request(app.getHttpServer())
    [7m   [0m [91m              ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m248[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m248[0m       const response = await request(app.getHttpServer())
    [7m   [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m263[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m263[0m       const response = await request(app.getHttpServer())
    [7m   [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m273[0m:[93m30[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m273[0m       const response = await request(app.getHttpServer())
    [7m   [0m [91m                             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m286[0m:[93m36[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m286[0m       const uploadResponse = await request(app.getHttpServer())
    [7m   [0m [91m                                   ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m295[0m:[93m13[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m295[0m       await request(app.getHttpServer())
    [7m   [0m [91m            ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m301[0m:[93m13[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m301[0m       await request(app.getHttpServer())
    [7m   [0m [91m            ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.
    [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m308[0m:[93m14[0m - [91merror[0m[90m TS2349: [0mThis expression is not callable.
      Type '{ default: SuperTestStatic; Test: typeof Test; agent: typeof TestAgent & ((app?: App | undefined, options?: AgentOptions | undefined) => TestAgent<...>); }' has no call signatures.

    [7m308[0m       return request(app.getHttpServer())
    [7m   [0m [91m             ~~~~~~~[0m

      [96mpackages/storage/src/app/integration/storage.integration.spec.ts[0m:[93m3[0m:[93m1[0m
        [7m3[0m import * as request from 'supertest';
        [7m [0m [96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        Type originates at this import. A namespace-style import cannot be called or constructed, and will cause a failure at runtime. Consider using a default import or import require here instead.

[1mTest Suites: [22m[1m[31m5 failed[39m[22m, [1m[32m1 passed[39m[22m, 6 total
[1mTests:       [22m[1m[32m6 passed[39m[22m, 6 total
[1mSnapshots:   [22m0 total
[1mTime:[22m        [1m[33m4.117 s[39m[22m
[2mRan all test suites[22m[2m.[22m
